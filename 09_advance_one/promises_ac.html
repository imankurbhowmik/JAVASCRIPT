<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>promises</title>
</head>
<body>
    
</body>
<script>
    // in real life we dont create promises, dusre log jaise ki apis humare liye promises create krte we just handle the promises


//     let promise = new Promise((resolve, reject) => {
//         console.log("I am a promise");
//         resolve("success")
//         // reject("some error ocurred")
// })

// function getData (dataId, getNextData){
//     return new Promise((resolve, reject) => {
//         setTimeout(() => {
//         console.log("data", dataId)
//         resolve("success")
//         if(getNextData){
//             getNextData();
//         }
//     }, 2000)})
// }

//using promise

// const getPromise = () => {
//     return new Promise((resolve, reject) => {
//         console.log("I am a promise");
//         resolve("success");
//     })
// }

// getPromise().then((res) => {
//     console.log("promise fulfilled", res);
// })

// getPromise().catch((err) => {
//     console.log("promise not fulfilled", err);
// })

// function asyncFunc1(){
//     return new Promise((resolve, reject) => {
//         setTimeout(() => {
//             console.log("data1");
//             resolve("success")
//         }, 4000)
//     })
// }

// function asyncFunc2(){
//     return new Promise((resolve, reject) => {
//         setTimeout(() => {
//             console.log("data2");
//             resolve("success")
//         }, 4000)
//     })
// }

// console.log("fetching data1");
// asyncFunc1()
// .then(() => {
//     console.log("fetching data2");
//     asyncFunc2()
//     .then()
// })


function getData(dataId){
    return new Promise((resolve, reject) => {
        setTimeout(() => {
            console.log("data", dataId)
            resolve("success")
        }, 4000)
    })
}

console.log("fetching data1 ...")
getData(1)
    .then((res) => {
        console.log("fetching data2 ...")
        return getData(2)
})
    .then((res) => {
        console.log("fetching data3 ...")
        return getData(3);
    })
    .then((res) => {
        console.log(res)
    })

</script>
</html>